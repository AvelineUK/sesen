(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,s,t)=>{s.exports=e.r(76562)},47133,e=>{"use strict";e.s(["MONETIZATION",0,!1,"REQUIRE_AUTH",0,!1,"SHOW_AUTH_UI",0,!1])},90464,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(7471),r=e.i(47133);let n=(0,t.createContext)({user:null,profile:null,loading:!0,canAccessEditorial:!1,canAccessAds:!1,canAccessNews:!1,signOut:async()=>{}});function i(){return(0,t.useContext)(n)}function c({children:e}){let[i,c]=(0,t.useState)(null),[u,l]=(0,t.useState)(null),[o,d]=(0,t.useState)(!0);async function f(e){let{data:s}=await a.supabase.from("profiles").select("role, display_name, access_editorial, access_ads, access_news").eq("id",e).single();l(s??{role:"beta",display_name:null,access_editorial:!0,access_ads:!0,access_news:!0}),d(!1)}async function h(){await a.supabase.auth.signOut(),c(null),l(null)}(0,t.useEffect)(()=>{a.supabase.auth.getSession().then(({data:{session:e}})=>{c(e?.user??null),e?.user?f(e.user.id):d(!1)});let{data:{subscription:e}}=a.supabase.auth.onAuthStateChange((e,s)=>{c(s?.user??null),s?.user?f(s.user.id):(l(null),d(!1))});return()=>e.unsubscribe()},[]);let m=!r.REQUIRE_AUTH,p=m||(u?.access_editorial??!1),g=m||(u?.access_ads??!1),A=m||(u?.access_news??!1);return(0,s.jsx)(n.Provider,{value:{user:i,profile:u,loading:o,canAccessEditorial:p,canAccessAds:g,canAccessNews:A,signOut:h},children:e})}e.s(["AuthProvider",()=>c,"useAuth",()=>i])},32549,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(18566),r=e.i(90464),n=e.i(47133);let i=["/signin","/signup","/verify","/forgot-password","/reset-password","/blog","/terms","/privacy","/contact"],c=["/","/blog","/terms","/privacy","/contact"];function u({children:e}){let{user:u,loading:l}=(0,r.useAuth)(),o=(0,a.useRouter)(),d=(0,a.usePathname)();if((0,t.useEffect)(()=>{if(!n.REQUIRE_AUTH||l)return;let e=i.some(e=>d.startsWith(e)),s=c.some(e=>d===e||d.startsWith(e+"/"));u||e||s||o.replace("/signin"),u&&e&&!s&&"/verify"!==d&&"/reset-password"!==d&&o.replace("/dashboard")},[u,l,d,o]),!n.REQUIRE_AUTH)return(0,s.jsx)(s.Fragment,{children:e});if(l)return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",style:{background:"#030310"},children:(0,s.jsx)("div",{className:"text-sm",style:{color:"#ffffff30",fontFamily:"'DM Mono', monospace"},children:"Loadingâ€¦"})});let f=i.some(e=>d.startsWith(e)),h=c.some(e=>d===e||d.startsWith(e+"/"));return f||h||u?(0,s.jsx)(s.Fragment,{children:e}):null}e.s(["AuthGuard",()=>u])}]);